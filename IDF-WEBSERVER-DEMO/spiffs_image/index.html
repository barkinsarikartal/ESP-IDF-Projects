<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP32 IoT Kontrol Paneli</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { color: #333; text-align: center; }
        h2 { color: #666; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        h3 { color: #888; }
        .section { margin: 30px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        .button { background: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; margin: 5px; }
        .button:hover { background: #0056b3; }
        .button.danger { background: #dc3545; }
        .button.danger:hover { background: #c82333; }
        .button.success { background: #28a745; }
        .button.success:hover { background: #218838; }
        .input-group { margin: 10px 0; }
        .input-group label { display: inline-block; width: 120px; font-weight: bold; }
        .input-group input, .input-group select { padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
        .status { padding: 10px; margin: 10px 0; border-radius: 4px; }
        .status.online { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .status.offline { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; }
        .info-card { background: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #007bff; }
        .sensor-data { font-family: monospace; background: #e9ecef; padding: 15px; border-radius: 4px; margin: 10px 0; }
        .log-area { background: #2d3748; color: #e2e8f0; padding: 15px; border-radius: 4px; font-family: monospace; height: 200px; overflow-y: scroll; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        table th, table td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
        table th { background-color: #f8f9fa; font-weight: bold; }
        .slider { width: 100%; }
        .checkbox-group { margin: 10px 0; }
        .checkbox-group input[type="checkbox"] { margin-right: 8px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ ESP32 IoT Kontrol Paneli</h1>
        <h1>GZIP iÃ§in: /index.html.gz</h1>
        
        <div class="status online">
            <strong>Sistem Durumu:</strong> Online - Son gÃ¼ncelleme: <span id="last-update">YÃ¼kleniyor...</span>
        </div>

        <!-- Sistem Bilgileri -->
        <div class="section">
            <h2>ğŸ“Š Sistem Bilgileri</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>DonanÄ±m</h3>
                    <p><strong>Chip Model:</strong> ESP32-WROOM-32</p>
                    <p><strong>CPU FrekansÄ±:</strong> 240 MHz</p>
                    <p><strong>Flash Boyutu:</strong> 4 MB</p>
                    <p><strong>SRAM:</strong> 520 KB</p>
                </div>
                <div class="info-card">
                    <h3>Firmware</h3>
                    <p><strong>ESP-IDF Versiyon:</strong> v5.1.2</p>
                    <p><strong>Uygulama Versiyon:</strong> 1.2.3</p>
                    <p><strong>Derleme Tarihi:</strong> 20 Haziran 2025</p>
                    <p><strong>Derleme Saati:</strong> 14:30:25</p>
                </div>
                <div class="info-card">
                    <h3>Ã‡alÄ±ÅŸma SÃ¼resi</h3>
                    <p><strong>Uptime:</strong> <span id="uptime">12 gÃ¼n 5 saat 23 dakika</span></p>
                    <p><strong>Boot SayÄ±sÄ±:</strong> 47</p>
                    <p><strong>Son Reset:</strong> Power-on Reset</p>
                    <p><strong>Reset Nedeni:</strong> GÃ¼Ã§ kesintisi</p>
                </div>
            </div>
        </div>

        <!-- AÄŸ Bilgileri -->
        <div class="section">
            <h2>ğŸŒ AÄŸ BaÄŸlantÄ± Bilgileri</h2>
            <div class="sensor-data">
                <strong>WiFi Durumu:</strong> BaÄŸlÄ± âœ…<br>
                <strong>SSID:</strong> MyHomeNetwork<br>
                <strong>IP Adresi:</strong> 192.168.1.105<br>
                <strong>Alt AÄŸ Maskesi:</strong> 255.255.255.0<br>
                <strong>AÄŸ GeÃ§idi:</strong> 192.168.1.1<br>
                <strong>DNS Sunucu:</strong> 8.8.8.8<br>
                <strong>MAC Adresi:</strong> 24:6F:28:AB:CD:EF<br>
                <strong>Sinyal GÃ¼cÃ¼:</strong> -45 dBm (MÃ¼kemmel)<br>
                <strong>Kanal:</strong> 6<br>
                <strong>Åifreleme:</strong> WPA2-PSK
            </div>
        </div>

        <!-- SensÃ¶r Verileri -->
        <div class="section">
            <h2>ğŸŒ¡ï¸ SensÃ¶r Verileri</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>SÄ±caklÄ±k ve Nem</h3>
                    <p><strong>SÄ±caklÄ±k:</strong> <span id="temperature">24.5Â°C</span></p>
                    <p><strong>Nem:</strong> <span id="humidity">65%</span></p>
                    <p><strong>Hissedilen:</strong> <span id="feels-like">26.2Â°C</span></p>
                    <p><strong>Ã‡iy NoktasÄ±:</strong> <span id="dew-point">17.8Â°C</span></p>
                </div>
                <div class="info-card">
                    <h3>BasÄ±nÃ§ ve Hava Kalitesi</h3>
                    <p><strong>BasÄ±nÃ§:</strong> <span id="pressure">1013.25 hPa</span></p>
                    <p><strong>RakÄ±m:</strong> <span id="altitude">150 m</span></p>
                    <p><strong>CO2:</strong> <span id="co2">420 ppm</span></p>
                    <p><strong>VOC:</strong> <span id="voc">25 ppb</span></p>
                </div>
                <div class="info-card">
                    <h3>IÅŸÄ±k ve Hareket</h3>
                    <p><strong>IÅŸÄ±k Seviyesi:</strong> <span id="light">1250 lux</span></p>
                    <p><strong>UV Ä°ndeksi:</strong> <span id="uv">3.2</span></p>
                    <p><strong>Hareket:</strong> <span id="motion">AlgÄ±lanmadÄ±</span></p>
                    <p><strong>Ses Seviyesi:</strong> <span id="sound">35 dB</span></p>
                </div>
            </div>
        </div>

        <!-- GPIO Kontrolleri -->
        <div class="section">
            <h2>âš¡ GPIO Kontrolleri</h2>
            <h3>Dijital Ã‡Ä±kÄ±ÅŸlar</h3>
            <div class="checkbox-group">
                <label><input type="checkbox" id="led1"> LED 1 (GPIO 2)</label><br>
                <label><input type="checkbox" id="led2"> LED 2 (GPIO 4)</label><br>
                <label><input type="checkbox" id="led3"> LED 3 (GPIO 5)</label><br>
                <label><input type="checkbox" id="relay1"> RÃ¶le 1 (GPIO 12)</label><br>
                <label><input type="checkbox" id="relay2"> RÃ¶le 2 (GPIO 13)</label><br>
                <label><input type="checkbox" id="buzzer"> Buzzer (GPIO 14)</label>
            </div>

            <h3>PWM Kontrolleri</h3>
            <div class="input-group">
                <label>LED ParlaklÄ±ÄŸÄ±:</label>
                <input type="range" class="slider" id="led-brightness" min="0" max="255" value="128">
                <span id="led-brightness-value">128</span>
            </div>
            <div class="input-group">
                <label>Motor HÄ±zÄ±:</label>
                <input type="range" class="slider" id="motor-speed" min="0" max="100" value="50">
                <span id="motor-speed-value">50%</span>
            </div>
            <div class="input-group">
                <label>Servo AÃ§Ä±sÄ±:</label>
                <input type="range" class="slider" id="servo-angle" min="0" max="180" value="90">
                <span id="servo-angle-value">90Â°</span>
            </div>

            <h3>Dijital GiriÅŸler</h3>
            <div class="sensor-data">
                <strong>Buton 1 (GPIO 18):</strong> <span id="button1">BasÄ±lmadÄ±</span><br>
                <strong>Buton 2 (GPIO 19):</strong> <span id="button2">BasÄ±lmadÄ±</span><br>
                <strong>Switch 1 (GPIO 21):</strong> <span id="switch1">KapalÄ±</span><br>
                <strong>Switch 2 (GPIO 22):</strong> <span id="switch2">AÃ§Ä±k</span><br>
                <strong>PIR SensÃ¶r (GPIO 23):</strong> <span id="pir">Hareket Yok</span>
            </div>
        </div>

        <!-- Analog Okumalar -->
        <div class="section">
            <h2>ğŸ“ˆ Analog SensÃ¶r Verileri</h2>
            <table>
                <thead>
                    <tr>
                        <th>Pin</th>
                        <th>Ham DeÄŸer</th>
                        <th>Voltaj</th>
                        <th>AÃ§Ä±klama</th>
                        <th>Durum</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>ADC1_CH0 (GPIO 36)</td>
                        <td>2048</td>
                        <td>1.65V</td>
                        <td>Potansiyometre</td>
                        <td>Normal</td>
                    </tr>
                    <tr>
                        <td>ADC1_CH3 (GPIO 39)</td>
                        <td>1024</td>
                        <td>0.83V</td>
                        <td>IÅŸÄ±k SensÃ¶rÃ¼</td>
                        <td>KaranlÄ±k</td>
                    </tr>
                    <tr>
                        <td>ADC1_CH6 (GPIO 34)</td>
                        <td>3072</td>
                        <td>2.48V</td>
                        <td>SÄ±caklÄ±k SensÃ¶rÃ¼</td>
                        <td>SÄ±cak</td>
                    </tr>
                    <tr>
                        <td>ADC1_CH7 (GPIO 35)</td>
                        <td>512</td>
                        <td>0.41V</td>
                        <td>Nem SensÃ¶rÃ¼</td>
                        <td>Kuru</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Sistem Kontrolleri -->
        <div class="section">
            <h2>ğŸ›ï¸ Sistem Kontrolleri</h2>
            <button class="button" onclick="updateAllData()">TÃ¼m Verileri GÃ¼ncelle</button>
            <button class="button" onclick="saveConfig()">KonfigÃ¼rasyonu Kaydet</button>
            <button class="button" onclick="loadConfig()">KonfigÃ¼rasyonu YÃ¼kle</button>
            <button class="button" onclick="exportData()">Verileri DÄ±ÅŸa Aktar</button>
            <br><br>
            <button class="button success" onclick="testAllSensors()">SensÃ¶r Testi</button>
            <button class="button" onclick="calibrateSensors()">SensÃ¶r Kalibrasyonu</button>
            <button class="button" onclick="resetCounters()">SayaÃ§larÄ± SÄ±fÄ±rla</button>
            <br><br>
            <button class="button danger" onclick="factoryReset()">Fabrika AyarlarÄ±na DÃ¶n</button>
            <button class="button danger" onclick="rebootSystem()">Sistemi Yeniden BaÅŸlat</button>
        </div>

        <!-- WiFi AyarlarÄ± -->
        <div class="section">
            <h2>ğŸ“¶ WiFi YapÄ±landÄ±rmasÄ±</h2>
            <div class="input-group">
                <label>SSID:</label>
                <input type="text" id="wifi-ssid" value="MyHomeNetwork" style="width: 200px;">
            </div>
            <div class="input-group">
                <label>Åifre:</label>
                <input type="password" id="wifi-password" placeholder="WiFi ÅŸifresi" style="width: 200px;">
            </div>
            <div class="input-group">
                <label>GÃ¼venlik:</label>
                <select id="wifi-security">
                    <option value="open">AÃ§Ä±k</option>
                    <option value="wep">WEP</option>
                    <option value="wpa" selected>WPA/WPA2</option>
                    <option value="wpa3">WPA3</option>
                </select>
            </div>
            <button class="button" onclick="connectWiFi()">WiFi'ye BaÄŸlan</button>
            <button class="button" onclick="scanNetworks()">AÄŸlarÄ± Tara</button>
            <button class="button danger" onclick="disconnectWiFi()">BaÄŸlantÄ±yÄ± Kes</button>
        </div>

        <!-- Otomatik GÃ¶revler -->
        <div class="section">
            <h2>â° Otomatik GÃ¶revler ve Programlama</h2>
            <h3>ZamanlayÄ±cÄ±lar</h3>
            <div class="input-group">
                <label>LED Otomatik AÃ§ma:</label>
                <input type="time" id="led-on-time" value="19:00">
                <label style="width: auto; margin-left: 20px;">LED Otomatik Kapama:</label>
                <input type="time" id="led-off-time" value="23:00">
            </div>
            <div class="input-group">
                <label>Sulama ZamanÄ±:</label>
                <input type="time" id="water-time" value="06:00">
                <label style="width: auto; margin-left: 20px;">SÃ¼re (dakika):</label>
                <input type="number" id="water-duration" value="15" min="1" max="60">
            </div>

            <h3>SensÃ¶r EÅŸikleri</h3>
            <div class="input-group">
                <label>Max SÄ±caklÄ±k:</label>
                <input type="number" id="temp-max" value="30" step="0.1"> Â°C
            </div>
            <div class="input-group">
                <label>Min Nem:</label>
                <input type="number" id="humidity-min" value="40"> %
            </div>
            <div class="input-group">
                <label>IÅŸÄ±k EÅŸiÄŸi:</label>
                <input type="number" id="light-threshold" value="500"> lux
            </div>

            <button class="button" onclick="saveSchedule()">ProgramÄ± Kaydet</button>
            <button class="button" onclick="enableSchedule()">ProgramÄ± EtkinleÅŸtir</button>
            <button class="button danger" onclick="disableSchedule()">ProgramÄ± Devre DÄ±ÅŸÄ± BÄ±rak</button>
        </div>

        <!-- Sistem LoglarÄ± -->
        <div class="section">
            <h2>ğŸ“ Sistem LoglarÄ±</h2>
            <div class="log-area" id="system-logs">
[2025-06-20 14:25:33] INFO: Sistem baÅŸlatÄ±ldÄ±
[2025-06-20 14:25:34] INFO: WiFi baÄŸlantÄ±sÄ± kuruldu (MyHomeNetwork)
[2025-06-20 14:25:35] INFO: HTTP server baÅŸlatÄ±ldÄ± (Port: 80)
[2025-06-20 14:25:36] INFO: DHT22 sensÃ¶rÃ¼ baÅŸlatÄ±ldÄ±
[2025-06-20 14:25:37] INFO: BMP280 sensÃ¶rÃ¼ baÅŸlatÄ±ldÄ±
[2025-06-20 14:25:38] INFO: PIR sensÃ¶rÃ¼ etkinleÅŸtirildi
[2025-06-20 14:26:15] INFO: SÄ±caklÄ±k okumasÄ±: 24.5Â°C
[2025-06-20 14:26:15] INFO: Nem okumasÄ±: 65%
[2025-06-20 14:26:45] WARN: SÄ±caklÄ±k eÅŸiÄŸi aÅŸÄ±ldÄ± (25.2Â°C > 25.0Â°C)
[2025-06-20 14:27:12] INFO: LED1 aÃ§Ä±ldÄ± (Manuel)
[2025-06-20 14:27:33] INFO: Hareket algÄ±landÄ± (PIR)
[2025-06-20 14:28:01] INFO: GPIO durumu gÃ¼ncellendi
[2025-06-20 14:28:15] INFO: KonfigÃ¼rasyon kaydedildi
[2025-06-20 14:28:45] ERROR: ADC okuma hatasÄ± (GPIO 34)
[2025-06-20 14:29:01] INFO: ADC hatasÄ± dÃ¼zeltildi
[2025-06-20 14:29:30] INFO: Otomatik sulama baÅŸlatÄ±ldÄ±
[2025-06-20 14:44:30] INFO: Otomatik sulama tamamlandÄ±
[2025-06-20 14:45:15] INFO: Veri dÄ±ÅŸa aktarÄ±ldÄ± (CSV format)
            </div>
            <br>
            <button class="button" onclick="clearLogs()">LoglarÄ± Temizle</button>
            <button class="button" onclick="downloadLogs()">LoglarÄ± Ä°ndir</button>
            <button class="button" onclick="refreshLogs()">LoglarÄ± Yenile</button>
        </div>

        <!-- Ä°statistikler -->
        <div class="section">
            <h2>ğŸ“Š Ä°statistikler ve Performans</h2>
            <div class="info-grid">
                <div class="info-card">
                    <h3>Bellek KullanÄ±mÄ±</h3>
                    <p><strong>Toplam Heap:</strong> 327680 bytes</p>
                    <p><strong>KullanÄ±lan Heap:</strong> 156432 bytes</p>
                    <p><strong>Serbest Heap:</strong> 171248 bytes</p>
                    <p><strong>En DÃ¼ÅŸÃ¼k Serbest:</strong> 145632 bytes</p>
                </div>
                <div class="info-card">
                    <h3>AÄŸ Ä°statistikleri</h3>
                    <p><strong>GÃ¶nderilen Paket:</strong> 15847</p>
                    <p><strong>AlÄ±nan Paket:</strong> 12356</p>
                    <p><strong>KayÄ±p Paket:</strong> 23</p>
                    <p><strong>Ortalama Ping:</strong> 15ms</p>
                </div>
                <div class="info-card">
                    <h3>SensÃ¶r Ä°statistikleri</h3>
                    <p><strong>Toplam Okuma:</strong> 8945</p>
                    <p><strong>BaÅŸarÄ±lÄ± Okuma:</strong> 8912</p>
                    <p><strong>HatalÄ± Okuma:</strong> 33</p>
                    <p><strong>BaÅŸarÄ± OranÄ±:</strong> 99.6%</p>
                </div>
            </div>
        </div>

        <!-- HakkÄ±nda -->
        <div class="section">
            <h2>â„¹ï¸ HakkÄ±nda</h2>
            <p>Bu ESP32 IoT kontrol paneli, ev otomasyonu ve sensÃ¶r verilerinin izlenmesi iÃ§in tasarlanmÄ±ÅŸtÄ±r. 
            ESP-IDF framework'Ã¼ kullanÄ±larak geliÅŸtirilmiÅŸ olup, HTTP server Ã¼zerinden web arayÃ¼zÃ¼ sunmaktadÄ±r.</p>
            
            <p><strong>Ã–zellikler:</strong></p>
            <ul>
                <li>GerÃ§ek zamanlÄ± sensÃ¶r veri izleme</li>
                <li>GPIO pin kontrolÃ¼ (dijital ve PWM)</li>
                <li>WiFi aÄŸ yÃ¶netimi</li>
                <li>Otomatik gÃ¶rev programlama</li>
                <li>Sistem log kayÄ±tlarÄ±</li>
                <li>KonfigÃ¼rasyon yÃ¶netimi</li>
                <li>Gzip sÄ±kÄ±ÅŸtÄ±rma desteÄŸi</li>
                <li>Responsive tasarÄ±m</li>
            </ul>

            <p><strong>Desteklenen SensÃ¶rler:</strong> DHT22, BMP280, PIR, ADC, Potansiyometre, LDR</p>
            <p><strong>GeliÅŸtirici:</strong> ESP32 IoT Team</p>
            <p><strong>Lisans:</strong> MIT License</p>
            <p><strong>Kaynak Kodu:</strong> <a href="https://github.com/esp32-iot/webserver">GitHub</a></p>
        </div>
    </div>

    <script>
        // Temel JavaScript fonksiyonlarÄ±
        function updateAllData() {
            console.log('TÃ¼m veriler gÃ¼ncelleniyor...');
            document.getElementById('last-update').textContent = new Date().toLocaleString('tr-TR');
        }

        function saveConfig() {
            alert('KonfigÃ¼rasyon kaydedildi!');
        }

        function loadConfig() {
            alert('KonfigÃ¼rasyon yÃ¼klendi!');
        }

        function exportData() {
            alert('Veriler CSV formatÄ±nda dÄ±ÅŸa aktarÄ±ldÄ±!');
        }

        function testAllSensors() {
            alert('TÃ¼m sensÃ¶rler test ediliyor...');
        }

        function calibrateSensors() {
            alert('SensÃ¶r kalibrasyonu baÅŸlatÄ±ldÄ±...');
        }

        function resetCounters() {
            if(confirm('TÃ¼m sayaÃ§lar sÄ±fÄ±rlanacak. Emin misiniz?')) {
                alert('SayaÃ§lar sÄ±fÄ±rlandÄ±!');
            }
        }

        function factoryReset() {
            if(confirm('TÃ¼m ayarlar silinecek ve cihaz fabrika ayarlarÄ±na dÃ¶necek. Emin misiniz?')) {
                alert('Fabrika ayarlarÄ±na dÃ¶nÃ¼lÃ¼yor...');
            }
        }

        function rebootSystem() {
            if(confirm('Sistem yeniden baÅŸlatÄ±lacak. Emin misiniz?')) {
                alert('Sistem yeniden baÅŸlatÄ±lÄ±yor...');
            }
        }

        function connectWiFi() {
            const ssid = document.getElementById('wifi-ssid').value;
            alert('WiFi aÄŸÄ±na baÄŸlanÄ±lÄ±yor: ' + ssid);
        }

        function scanNetworks() {
            alert('WiFi aÄŸlarÄ± taranÄ±yor...');
        }

        function disconnectWiFi() {
            alert('WiFi baÄŸlantÄ±sÄ± kesiliyor...');
        }

        function saveSchedule() {
            alert('Otomatik gÃ¶rev programÄ± kaydedildi!');
        }

        function enableSchedule() {
            alert('Otomatik gÃ¶rev programÄ± etkinleÅŸtirildi!');
        }

        function disableSchedule() {
            alert('Otomatik gÃ¶rev programÄ± devre dÄ±ÅŸÄ± bÄ±rakÄ±ldÄ±!');
        }

        function clearLogs() {
            if(confirm('TÃ¼m log kayÄ±tlarÄ± silinecek. Emin misiniz?')) {
                document.getElementById('system-logs').innerHTML = '[Loglar temizlendi]';
            }
        }

        function downloadLogs() {
            alert('Log dosyasÄ± indiriliyor...');
        }

        function refreshLogs() {
            alert('Loglar yenileniyor...');
        }

        // Slider deÄŸerlerini gÃ¼ncelle
        document.getElementById('led-brightness').addEventListener('input', function() {
            document.getElementById('led-brightness-value').textContent = this.value;
        });

        document.getElementById('motor-speed').addEventListener('input', function() {
            document.getElementById('motor-speed-value').textContent = this.value + '%';
        });

        document.getElementById('servo-angle').addEventListener('input', function() {
            document.getElementById('servo-angle-value').textContent = this.value + 'Â°';
        });

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            updateAllData();
            console.log('ESP32 IoT Kontrol Paneli yÃ¼klendi');
        });

        // Her 5 saniyede bir veri gÃ¼ncelle
        setInterval(function() {
            // Buraya gerÃ§ek sensÃ¶r verilerini Ã§ekme kodlarÄ± gelecek
            console.log('Veriler otomatik gÃ¼ncellendi');
        }, 5000);
    </script>
</body>
</html>